(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{58:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var r=t(5155),s=t(5695),i=t(2115),l=t(9852),n=t(7168),d=t(8482),o=t(2714),c=t(5784),u=t(3580);function m(){let e=(0,s.useRouter)(),[a,t]=(0,i.useState)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",company:"",phone:"",role:"user"}),[m,f]=(0,i.useState)(!1),p=(e,a)=>{t(t=>({...t,[e]:a}))},h=async()=>{if(!a.username||!a.email||!a.password){(0,u.oR)({title:"Hata",description:"Kullanıcı adı, email ve şifre gerekli."});return}if(a.password!==a.confirmPassword){(0,u.oR)({title:"Hata",description:"Şifreler eşleşmiyor."});return}if(a.password.length<6){(0,u.oR)({title:"Hata",description:"Şifre en az 6 karakter olmalı."});return}f(!0);try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.username,email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,company:a.company,phone:a.phone,role:a.role})}),r=await t.json();t.ok?((0,u.oR)({title:"Başarılı",description:"Hesap oluşturuldu. Giriş sayfasına y\xf6nlendiriliyorsunuz..."}),setTimeout(()=>{e.push("/giris")},2e3)):(0,u.oR)({title:"Hata",description:r.message||"Kayıt başarısız."})}catch(e){console.error("Register error:",e),(0,u.oR)({title:"Hata",description:"Bağlantı hatası. L\xfctfen tekrar deneyin."})}finally{f(!1)}};return(0,r.jsxs)(d.Zp,{className:"max-w-md mx-auto",children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Kayıt Ol"}),(0,r.jsx)(d.BT,{children:"Yeni hesap oluşturun."})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"username",children:"Kullanıcı Adı *"}),(0,r.jsx)(l.p,{id:"username",value:a.username,onChange:e=>p("username",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"email",children:"Email *"}),(0,r.jsx)(l.p,{id:"email",type:"email",value:a.email,onChange:e=>p("email",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"password",children:"Şifre *"}),(0,r.jsx)(l.p,{id:"password",type:"password",value:a.password,onChange:e=>p("password",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"confirmPassword",children:"Şifre Tekrar *"}),(0,r.jsx)(l.p,{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:e=>p("confirmPassword",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"firstName",children:"Ad"}),(0,r.jsx)(l.p,{id:"firstName",value:a.firstName,onChange:e=>p("firstName",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"lastName",children:"Soyad"}),(0,r.jsx)(l.p,{id:"lastName",value:a.lastName,onChange:e=>p("lastName",e.target.value),disabled:m})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"company",children:"Şirket"}),(0,r.jsx)(l.p,{id:"company",value:a.company,onChange:e=>p("company",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"phone",children:"Telefon"}),(0,r.jsx)(l.p,{id:"phone",value:a.phone,onChange:e=>p("phone",e.target.value),disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"role",children:"Kullanıcı Tipi"}),(0,r.jsxs)(c.l6,{value:a.role,onValueChange:e=>p("role",e),children:[(0,r.jsx)(c.bq,{children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"user",children:"Genel Kullanıcı"}),(0,r.jsx)(c.eb,{value:"ithalatci",children:"İthalat\xe7ı"}),(0,r.jsx)(c.eb,{value:"ihracatci",children:"İhracat\xe7ı"}),(0,r.jsx)(c.eb,{value:"nakliyeci",children:"Nakliyeci"})]})]})]})]}),(0,r.jsxs)(d.wL,{className:"flex flex-col gap-2",children:[(0,r.jsx)(n.$,{className:"w-full",onClick:h,disabled:m,children:m?"Kayıt yapılıyor...":"Kayıt Ol"}),(0,r.jsx)(n.$,{variant:"outline",className:"w-full",onClick:()=>e.push("/giris"),disabled:m,children:"Zaten hesabım var"})]})]})}function f(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"max-w-md w-full space-y-8 p-8",children:(0,r.jsx)(m,{})})})}},2714:(e,a,t)=>{"use strict";t.d(a,{J:()=>o});var r=t(5155),s=t(2115),i=t(968),l=t(2085),n=t(3999);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.b,{ref:a,className:(0,n.cn)(d(),t),...s})});o.displayName=i.b.displayName},3218:(e,a,t)=>{Promise.resolve().then(t.bind(t,58))},3580:(e,a,t)=>{"use strict";t.d(a,{oR:()=>c}),t(2115);let r=0,s=new Map,i=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},n=[],d={toasts:[]};function o(e){d=l(d,e),n.forEach(e=>{e(d)})}function c(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}},3999:(e,a,t)=>{"use strict";t.d(a,{cn:()=>i});var r=t(2596),s=t(9688);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},5784:(e,a,t)=>{"use strict";t.d(a,{bq:()=>m,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var r=t(5155),s=t(2115),i=t(8715),l=t(6474),n=t(7863),d=t(5196),o=t(3999);let c=i.bL;i.YJ;let u=i.WT,m=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(i.l9,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,(0,r.jsx)(i.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let f=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=i.PP.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let h=s.forwardRef((e,a)=>{let{className:t,children:s,position:l="popper",...n}=e;return(0,r.jsx)(i.ZL,{children:(0,r.jsxs)(i.UC,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,r.jsx)(f,{}),(0,r.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});h.displayName=i.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.JU,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=i.JU.displayName;let x=s.forwardRef((e,a)=>{let{className:t,children:s,...l}=e;return(0,r.jsxs)(i.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(i.p4,{children:s})]})});x.displayName=i.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=i.wv.displayName},7168:(e,a,t)=>{"use strict";t.d(a,{$:()=>o,r:()=>d});var r=t(5155),s=t(2115),i=t(9708),l=t(2085),n=t(3999);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,a)=>{let{className:t,variant:s,size:l,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(d({variant:s,size:l,className:t})),ref:a,...c})});o.displayName="Button"},8482:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>u});var r=t(5155),s=t(2115),i=t(3999);let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},9852:(e,a,t)=>{"use strict";t.d(a,{p:()=>l});var r=t(5155),s=t(2115),i=t(3999);let l=s.forwardRef((e,a)=>{let{className:t,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...l})});l.displayName="Input"}},e=>{var a=a=>e(e.s=a);e.O(0,[277,200,835,441,684,358],()=>a(3218)),_N_E=e.O()}]);